var e=globalThis.parcelRequire10c2;(0,e.register)("7y2Ds",function(n,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n.exports,"__esModule",{value:!0}),n.exports.default=void 0;var a=o(e("acw62"));function o(e,n){if("function"==typeof WeakMap)var t=new WeakMap,a=new WeakMap;return(o=function(e,n){if(!n&&e&&e.__esModule)return e;var o,s,i={__proto__:null,default:e};if(null===e||"object"!=r(e)&&"function"!=typeof e)return i;if(o=n?a:t){if(o.has(e))return o.get(e);o.set(e,i)}for(var l in e)"default"!==l&&({}).hasOwnProperty.call(e,l)&&((s=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(s.get||s.set)?o(i,l,s):i[l]=e[l]);return i})(e,n)}function s(){var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",a=t.toStringTag||"@@toStringTag";function o(t,r,a,o){var s=Object.create((r&&r.prototype instanceof c?r:c).prototype);return i(s,"_invoke",function(t,r,a){var o,s,i,c=0,u=a||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(n,t){return o=n,s=0,i=e,f.n=t,l}};function p(t,r){for(s=t,i=r,n=0;!d&&c&&!a&&n<u.length;n++){var a,o=u[n],p=f.p,m=o[2];t>3?(a=m===r)&&(i=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=p&&((a=t<2&&p<o[1])?(s=0,f.v=r,f.n=o[1]):p<m&&(a=t<3||o[0]>r||r>m)&&(o[4]=t,o[5]=r,f.n=m,s=0))}if(a||t>1)return l;throw d=!0,r}return function(a,u,m){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,m),s=u,i=m;(n=s<2?e:i)||!d;){o||(s?s<3?(s>1&&(f.n=-1),p(s,i)):f.n=i:f.v=i);try{if(c=2,o){if(s||(a="next"),n=o[a]){if(!(n=n.call(o,i)))throw TypeError("iterator result is not an object");if(!n.done)return n;i=n.value,s<2&&(s=0)}else 1===s&&(n=o.return)&&n.call(o),s<2&&(i=TypeError("The iterator does not provide a '"+a+"' method"),s=1);o=e}else if((n=(d=f.n<0)?i:t.call(r,f))!==l)break}catch(n){o=e,s=1,i=n}finally{c=1}}return{value:n,done:d}}}(t,a,o),!0),s}var l={};function c(){}function u(){}function d(){}n=Object.getPrototypeOf;var f=d.prototype=c.prototype=Object.create([][r]?n(n([][r]())):(i(n={},r,function(){return this}),n));function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,i(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=d,i(f,"constructor",d),i(d,"constructor",u),u.displayName="GeneratorFunction",i(d,a,"GeneratorFunction"),i(f),i(f,a,"Generator"),i(f,r,function(){return this}),i(f,"toString",function(){return"[object Generator]"}),(s=function(){return{w:o,m:p}})()}function i(e,n,t,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}(i=function(e,n,t,r){function o(n,t){i(e,n,function(e){return this._invoke(n,t,e)})}n?a?a(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t:(o("next",0),o("throw",1),o("return",2))})(e,n,t,r)}function l(e,n,t,r,a,o,s){try{var i=e[o](s),l=i.value}catch(e){return void t(e)}i.done?n(l):Promise.resolve(l).then(r,a)}function c(e){return function(){var n=this,t=arguments;return new Promise(function(r,a){var o=e.apply(n,t);function s(e){l(o,r,a,s,i,"next",e)}function i(e){l(o,r,a,s,i,"throw",e)}s(void 0)})}}function u(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,o,s,i=[],l=!0,c=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=o.call(t)).done)&&(i.push(r.value),i.length!==n);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw a}}return i}}(e,n)||function(e,n){if(e){if("string"==typeof e)return d(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?d(e,n):void 0}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}n.exports.default=function(e){var n,t,r,o=e.onResumeSession,i=e.onDeleteSession,l=u((0,a.useState)([]),2),d=l[0],f=l[1],p=u((0,a.useState)(!0),2),m=p[0],b=p[1],g=u((0,a.useState)(null),2),y=g[0],h=g[1];(0,a.useEffect)(function(){v()},[]);var v=(n=c(s().m(function e(){var n;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,b(!0),e.n=1,fetch("/api/research/sessions");case 1:if((n=e.v).ok){e.n=2;break}throw Error("Failed to load sessions");case 2:return e.n=3,n.json();case 3:f(e.v.sessions||[]),h(null),e.n=5;break;case 4:e.p=4,h(e.v.message);case 5:return e.p=5,b(!1),e.f(5);case 6:return e.a(2)}},e,null,[[0,4,5,6]])})),function(){return n.apply(this,arguments)}),x=(t=c(s().m(function e(n){var t,r;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,fetch("/api/research/".concat(n,"/resume"),{method:"POST"});case 1:if((t=e.v).ok){e.n=2;break}throw Error("Failed to resume session");case 2:return e.n=3,t.json();case 3:return e.v,o&&o(n),e.n=4,v();case 4:e.n=6;break;case 5:e.p=5,r=e.v,h("Failed to resume session: ".concat(r.message));case 6:return e.a(2)}},e,null,[[0,5]])})),function(e){return t.apply(this,arguments)}),w=(r=c(s().m(function e(n){var t;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:if(confirm("Are you sure you want to delete research session ".concat(n,"?"))){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,fetch("/api/research/".concat(n),{method:"DELETE"});case 2:if(e.v.ok){e.n=3;break}throw Error("Failed to delete session");case 3:return i&&i(n),e.n=4,v();case 4:e.n=6;break;case 5:e.p=5,t=e.v,h("Failed to delete session: ".concat(t.message));case 6:return e.a(2)}},e,null,[[1,5]])})),function(e){return r.apply(this,arguments)}),E=function(e){return new Date(e).toLocaleString()};return m?a.default.createElement("div",{className:"research-history loading"},a.default.createElement("div",{className:"spinner"}),a.default.createElement("p",null,"Loading research history...")):a.default.createElement("div",{className:"research-history"},a.default.createElement("div",{className:"history-header"},a.default.createElement("h3",null,"Research History"),a.default.createElement("button",{onClick:v,className:"refresh-button"},"â†» Refresh")),y&&a.default.createElement("div",{className:"error-message"},a.default.createElement("span",{className:"error-icon"},"âš ï¸"),a.default.createElement("span",null,y),a.default.createElement("button",{onClick:function(){return h(null)},className:"dismiss-error"},"Ã—")),0===d.length?a.default.createElement("div",{className:"no-sessions"},a.default.createElement("p",null,"No saved research sessions found."),a.default.createElement("p",null,"Completed research will appear here for resuming later.")):a.default.createElement("div",{className:"sessions-list"},d.map(function(e){return a.default.createElement("div",{key:e.task_id,className:"session-item"},a.default.createElement("div",{className:"session-info"},a.default.createElement("div",{className:"session-header"},a.default.createElement("h4",null,"Research Session"),a.default.createElement("span",{className:"status-badge ".concat(e.status)},e.status)),a.default.createElement("div",{className:"session-details"},a.default.createElement("div",{className:"detail"},a.default.createElement("span",{className:"label"},"ID:"),a.default.createElement("code",{className:"value"},e.task_id)),a.default.createElement("div",{className:"detail"},a.default.createElement("span",{className:"label"},"Started:"),a.default.createElement("span",{className:"value"},e.start_time?E(e.start_time):"Unknown")),a.default.createElement("div",{className:"detail"},a.default.createElement("span",{className:"label"},"Last Updated:"),a.default.createElement("span",{className:"value"},e.last_update?E(e.last_update):"Unknown")))),a.default.createElement("div",{className:"session-actions"},"running"===e.status&&a.default.createElement("button",{onClick:function(){return x(e.task_id)},className:"resume-button"},"â–¶ï¸ Resume"),a.default.createElement("button",{onClick:function(){return w(e.task_id)},className:"delete-button"},"ðŸ—‘ï¸ Delete")))})),a.default.createElement("style",null,"\n        .research-history {\n          background: var(--bg-primary);\n          border-radius: 8px;\n          padding: 20px;\n          box-shadow: 0 2px 10px var(--shadow);\n          margin: 20px 0;\n        }\n\n        .history-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 20px;\n        }\n\n        .history-header h3 {\n          margin: 0;\n          color: var(--text-primary);\n        }\n\n        .refresh-button {\n          padding: 8px 16px;\n          background: var(--text-secondary);\n          color: var(--bg-primary);\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 14px;\n        }\n\n        .refresh-button:hover {\n          background: var(--text-muted);\n        }\n\n        .error-message {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 10px;\n          background: rgba(220, 53, 69, 0.1);\n          border: 1px solid var(--error);\n          border-radius: 4px;\n          color: var(--error);\n          margin-bottom: 15px;\n        }\n\n        .dismiss-error {\n          margin-left: auto;\n          background: none;\n          border: none;\n          font-size: 18px;\n          cursor: pointer;\n          color: var(--error);\n        }\n\n        .no-sessions {\n          text-align: center;\n          padding: 40px;\n          color: var(--text-secondary);\n        }\n\n        .no-sessions p {\n          margin: 10px 0;\n        }\n\n        .sessions-list {\n          display: flex;\n          flex-direction: column;\n          gap: 15px;\n        }\n\n        .session-item {\n          border: 1px solid var(--border-color);\n          border-radius: 6px;\n          padding: 15px;\n          display: flex;\n          justify-content: space-between;\n          align-items: flex-start;\n          flex-wrap: wrap;\n          gap: 15px;\n          background: var(--bg-primary);\n        }\n\n        .session-info {\n          flex: 1;\n          min-width: 200px;\n        }\n\n        .session-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 10px;\n        }\n\n        .session-header h4 {\n          margin: 0;\n          color: var(--text-primary);\n        }\n\n        .status-badge {\n          padding: 4px 8px;\n          border-radius: 12px;\n          font-size: 12px;\n          font-weight: 500;\n          text-transform: uppercase;\n        }\n\n        .status-badge.running {\n          background: rgba(40, 167, 69, 0.2);\n          color: var(--success);\n        }\n\n        .status-badge.stopped {\n          background: rgba(255, 193, 7, 0.2);\n          color: var(--warning);\n        }\n\n        .session-details {\n          display: flex;\n          flex-direction: column;\n          gap: 5px;\n        }\n\n        .detail {\n          display: flex;\n          gap: 8px;\n          font-size: 14px;\n        }\n\n        .label {\n          font-weight: 500;\n          color: var(--text-secondary);\n          min-width: 70px;\n        }\n\n        .value {\n          color: var(--text-primary);\n        }\n\n        .value code {\n          background: var(--bg-tertiary);\n          padding: 2px 4px;\n          border-radius: 3px;\n          font-family: monospace;\n          font-size: 12px;\n        }\n\n        .session-actions {\n          display: flex;\n          gap: 8px;\n          flex-shrink: 0;\n        }\n\n        .resume-button,\n        .delete-button {\n          padding: 8px 12px;\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 14px;\n          font-weight: 500;\n          display: flex;\n          align-items: center;\n          gap: 4px;\n        }\n\n        .resume-button {\n          background: var(--success);\n          color: white;\n        }\n\n        .resume-button:hover {\n          background: #218838;\n        }\n\n        .delete-button {\n          background: var(--error);\n          color: white;\n        }\n\n        .delete-button:hover {\n          background: #c82333;\n        }\n\n        .loading {\n          text-align: center;\n          padding: 40px;\n        }\n\n        .spinner {\n          width: 30px;\n          height: 30px;\n          border: 3px solid var(--bg-tertiary);\n          border-top: 3px solid var(--accent);\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n          margin: 0 auto 15px;\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          50% { transform: rotate(180deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        @media (max-width: 768px) {\n          .session-item {\n            flex-direction: column;\n          }\n\n          .session-actions {\n            align-self: stretch;\n            justify-content: space-between;\n          }\n\n          .history-header {\n            flex-direction: column;\n            gap: 10px;\n            align-items: flex-start;\n          }\n        }\n      "))}});
//# sourceMappingURL=ResearchHistory.cc18ba86.js.map
