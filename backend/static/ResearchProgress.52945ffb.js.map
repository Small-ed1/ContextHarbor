{"mappings":"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","sources":["<anon>","src/ResearchProgress.js"],"sourcesContent":["\n      var $parcel$global = globalThis;\n    var parcelRequire = $parcel$global[\"parcelRequire10c2\"];\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"5x4ke\", function(module, exports) {\n\"use strict\";\nfunction $407363bb42bbbc71$var$_typeof(o) {\n    \"@babel/helpers - typeof\";\n    return $407363bb42bbbc71$var$_typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(o) {\n        return typeof o;\n    } : function(o) {\n        return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n    }, $407363bb42bbbc71$var$_typeof(o);\n}\nObject.defineProperty(module.exports, \"__esModule\", {\n    value: true\n});\nmodule.exports[\"default\"] = void 0;\n\nvar $407363bb42bbbc71$var$_react = $407363bb42bbbc71$var$_interopRequireWildcard((parcelRequire(\"acw62\")));\nfunction $407363bb42bbbc71$var$_interopRequireWildcard(e, t) {\n    if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap();\n    return ($407363bb42bbbc71$var$_interopRequireWildcard = function _interopRequireWildcard(e, t) {\n        if (!t && e && e.__esModule) return e;\n        var o, i, f = {\n            __proto__: null,\n            \"default\": e\n        };\n        if (null === e || \"object\" != $407363bb42bbbc71$var$_typeof(e) && \"function\" != typeof e) return f;\n        if (o = t ? n : r) {\n            if (o.has(e)) return o.get(e);\n            o.set(e, f);\n        }\n        for(var _t in e)\"default\" !== _t && ({}).hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]);\n        return f;\n    })(e, t);\n}\nfunction $407363bb42bbbc71$var$_slicedToArray(r, e) {\n    return $407363bb42bbbc71$var$_arrayWithHoles(r) || $407363bb42bbbc71$var$_iterableToArrayLimit(r, e) || $407363bb42bbbc71$var$_unsupportedIterableToArray(r, e) || $407363bb42bbbc71$var$_nonIterableRest();\n}\nfunction $407363bb42bbbc71$var$_nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction $407363bb42bbbc71$var$_unsupportedIterableToArray(r, a) {\n    if (r) {\n        if (\"string\" == typeof r) return $407363bb42bbbc71$var$_arrayLikeToArray(r, a);\n        var t = ({}).toString.call(r).slice(8, -1);\n        return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? $407363bb42bbbc71$var$_arrayLikeToArray(r, a) : void 0;\n    }\n}\nfunction $407363bb42bbbc71$var$_arrayLikeToArray(r, a) {\n    (null == a || a > r.length) && (a = r.length);\n    for(var e = 0, n = Array(a); e < a; e++)n[e] = r[e];\n    return n;\n}\nfunction $407363bb42bbbc71$var$_iterableToArrayLimit(r, l) {\n    var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n    if (null != t) {\n        var e, n, i, u, a = [], f = !0, o = !1;\n        try {\n            if (i = (t = t.call(r)).next, 0 === l) {\n                if (Object(t) !== t) return;\n                f = !1;\n            } else for(; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n        } catch (r) {\n            o = !0, n = r;\n        } finally{\n            try {\n                if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n            } finally{\n                if (o) throw n;\n            }\n        }\n        return a;\n    }\n}\nfunction $407363bb42bbbc71$var$_arrayWithHoles(r) {\n    if (Array.isArray(r)) return r;\n}\nvar $407363bb42bbbc71$var$ResearchProgress = function ResearchProgress(_ref) {\n    var taskId = _ref.taskId, onComplete = _ref.onComplete, onError = _ref.onError;\n    var _useState = (0, $407363bb42bbbc71$var$_react.useState)(null), _useState2 = $407363bb42bbbc71$var$_slicedToArray(_useState, 2), progress = _useState2[0], setProgress = _useState2[1];\n    var _useState3 = (0, $407363bb42bbbc71$var$_react.useState)(false), _useState4 = $407363bb42bbbc71$var$_slicedToArray(_useState3, 2), isConnected = _useState4[0], setIsConnected = _useState4[1];\n    var _useState5 = (0, $407363bb42bbbc71$var$_react.useState)(null), _useState6 = $407363bb42bbbc71$var$_slicedToArray(_useState5, 2), error = _useState6[0], setError = _useState6[1];\n    (0, $407363bb42bbbc71$var$_react.useEffect)(function() {\n        if (!taskId) return;\n        var eventSource = new EventSource(\"/api/research/\".concat(taskId, \"/progress\"));\n        eventSource.onopen = function() {\n            setIsConnected(true);\n            setError(null);\n        };\n        eventSource.onmessage = function(event) {\n            try {\n                var data = JSON.parse(event.data);\n                if (data.error) {\n                    setError(data.error);\n                    onError && onError(data.error);\n                    return;\n                }\n                if (data.type === 'heartbeat') // Keep connection alive\n                return;\n                setProgress(data);\n                if (data.status === 'completed') {\n                    onComplete && onComplete(data);\n                    eventSource.close();\n                }\n            } catch (err) {\n                console.error('Error parsing progress data:', err);\n                setError('Failed to parse progress data');\n            }\n        };\n        eventSource.onerror = function(err) {\n            console.error('EventSource error:', err);\n            setIsConnected(false);\n            setError('Connection lost');\n            onError && onError('Connection lost');\n        };\n        return function() {\n            eventSource.close();\n            setIsConnected(false);\n        };\n    }, [\n        taskId,\n        onComplete,\n        onError\n    ]);\n    if (!progress) return /*#__PURE__*/ $407363bb42bbbc71$var$_react[\"default\"].createElement(\"div\", {\n        className: \"research-progress loading\"\n    }, /*#__PURE__*/ $407363bb42bbbc71$var$_react[\"default\"].createElement(\"div\", {\n        className: \"progress-spinner\"\n    }), /*#__PURE__*/ $407363bb42bbbc71$var$_react[\"default\"].createElement(\"p\", null, \"Connecting to research session...\"));\n    var progressPercent = Math.round(progress.progress || 0);\n    return /*#__PURE__*/ $407363bb42bbbc71$var$_react[\"default\"].createElement(\"div\", {\n        className: \"research-progress\"\n    }, /*#__PURE__*/ $407363bb42bbbc71$var$_react[\"default\"].createElement(\"div\", {\n        className: \"progress-header\"\n    }, /*#__PURE__*/ $407363bb42bbbc71$var$_react[\"default\"].createElement(\"h3\", null, \"Research Progress\"), /*#__PURE__*/ $407363bb42bbbc71$var$_react[\"default\"].createElement(\"div\", {\n        className: \"status-indicator \".concat(progress.status)\n    }, /*#__PURE__*/ $407363bb42bbbc71$var$_react[\"default\"].createElement(\"span\", {\n        className: \"status-dot \".concat(progress.status)\n    }), progress.status === 'running' ? 'Running' : progress.status === 'completed' ? 'Completed' : 'Error')), /*#__PURE__*/ $407363bb42bbbc71$var$_react[\"default\"].createElement(\"div\", {\n        className: \"progress-bar-container\"\n    }, /*#__PURE__*/ $407363bb42bbbc71$var$_react[\"default\"].createElement(\"div\", {\n        className: \"progress-bar\"\n    }, /*#__PURE__*/ $407363bb42bbbc71$var$_react[\"default\"].createElement(\"div\", {\n        className: \"progress-fill\",\n        style: {\n            width: \"\".concat(progressPercent, \"%\")\n        }\n    })), /*#__PURE__*/ $407363bb42bbbc71$var$_react[\"default\"].createElement(\"span\", {\n        className: \"progress-text\"\n    }, progressPercent, \"%\")), /*#__PURE__*/ $407363bb42bbbc71$var$_react[\"default\"].createElement(\"div\", {\n        className: \"progress-details\"\n    }, /*#__PURE__*/ $407363bb42bbbc71$var$_react[\"default\"].createElement(\"div\", {\n        className: \"detail-row\"\n    }, /*#__PURE__*/ $407363bb42bbbc71$var$_react[\"default\"].createElement(\"span\", {\n        className: \"label\"\n    }, \"Phase:\"), /*#__PURE__*/ $407363bb42bbbc71$var$_react[\"default\"].createElement(\"span\", {\n        className: \"value\"\n    }, progress.phase || 'Initializing')), /*#__PURE__*/ $407363bb42bbbc71$var$_react[\"default\"].createElement(\"div\", {\n        className: \"detail-row\"\n    }, /*#__PURE__*/ $407363bb42bbbc71$var$_react[\"default\"].createElement(\"span\", {\n        className: \"label\"\n    }, \"Topics:\"), /*#__PURE__*/ $407363bb42bbbc71$var$_react[\"default\"].createElement(\"span\", {\n        className: \"value\"\n    }, progress.topics_completed || 0, \" / \", progress.total_topics || 0)), /*#__PURE__*/ $407363bb42bbbc71$var$_react[\"default\"].createElement(\"div\", {\n        className: \"detail-row\"\n    }, /*#__PURE__*/ $407363bb42bbbc71$var$_react[\"default\"].createElement(\"span\", {\n        className: \"label\"\n    }, \"Findings:\"), /*#__PURE__*/ $407363bb42bbbc71$var$_react[\"default\"].createElement(\"span\", {\n        className: \"value\"\n    }, progress.findings_count || 0)), progress.start_time && /*#__PURE__*/ $407363bb42bbbc71$var$_react[\"default\"].createElement(\"div\", {\n        className: \"detail-row\"\n    }, /*#__PURE__*/ $407363bb42bbbc71$var$_react[\"default\"].createElement(\"span\", {\n        className: \"label\"\n    }, \"Started:\"), /*#__PURE__*/ $407363bb42bbbc71$var$_react[\"default\"].createElement(\"span\", {\n        className: \"value\"\n    }, new Date(progress.start_time).toLocaleTimeString()))), error && /*#__PURE__*/ $407363bb42bbbc71$var$_react[\"default\"].createElement(\"div\", {\n        className: \"progress-error\"\n    }, /*#__PURE__*/ $407363bb42bbbc71$var$_react[\"default\"].createElement(\"span\", {\n        className: \"error-icon\"\n    }, \"\\u26A0\\uFE0F\"), /*#__PURE__*/ $407363bb42bbbc71$var$_react[\"default\"].createElement(\"span\", {\n        className: \"error-message\"\n    }, error)), /*#__PURE__*/ $407363bb42bbbc71$var$_react[\"default\"].createElement(\"style\", null, \"\\n        .research-progress {\\n          background: var(--bg-primary);\\n          border-radius: 8px;\\n          padding: 20px;\\n          box-shadow: 0 2px 10px var(--shadow);\\n          margin: 20px 0;\\n        }\\n\\n        .progress-header {\\n          display: flex;\\n          justify-content: space-between;\\n          align-items: center;\\n          margin-bottom: 20px;\\n        }\\n\\n        .progress-header h3 {\\n          margin: 0;\\n          color: var(--text-primary);\\n        }\\n\\n        .status-indicator {\\n          display: flex;\\n          align-items: center;\\n          gap: 8px;\\n          font-size: 14px;\\n          font-weight: 500;\\n        }\\n\\n        .status-dot {\\n          width: 8px;\\n          height: 8px;\\n          border-radius: 50%;\\n        }\\n\\n        .status-dot.running {\\n          background: var(--accent);\\n          animation: pulse 2s infinite;\\n        }\\n\\n        .status-dot.completed {\\n          background: var(--success);\\n        }\\n\\n        .status-dot.error {\\n          background: var(--error);\\n        }\\n\\n        @keyframes pulse {\\n          0% { opacity: 1; }\\n          50% { opacity: 0.5; }\\n          100% { opacity: 1; }\\n        }\\n\\n        .progress-bar-container {\\n          display: flex;\\n          align-items: center;\\n          gap: 10px;\\n          margin-bottom: 20px;\\n        }\\n\\n        .progress-bar {\\n          flex: 1;\\n          height: 20px;\\n          background: var(--bg-tertiary);\\n          border-radius: 10px;\\n          overflow: hidden;\\n        }\\n\\n        .progress-fill {\\n          height: 100%;\\n          background: linear-gradient(90deg, var(--accent), #0056b3);\\n          transition: width 0.3s ease;\\n        }\\n\\n        .progress-text {\\n          font-weight: 600;\\n          color: var(--accent);\\n          min-width: 45px;\\n        }\\n\\n        .progress-details {\\n          display: grid;\\n          grid-template-columns: 1fr 1fr;\\n          gap: 10px 20px;\\n          margin-bottom: 15px;\\n        }\\n\\n        .detail-row {\\n          display: flex;\\n          justify-content: space-between;\\n          align-items: center;\\n        }\\n\\n        .label {\\n          font-weight: 500;\\n          color: var(--text-secondary);\\n        }\\n\\n        .value {\\n          font-weight: 600;\\n          color: var(--text-primary);\\n        }\\n\\n        .progress-error {\\n          display: flex;\\n          align-items: center;\\n          gap: 8px;\\n          padding: 10px;\\n          background: rgba(220, 53, 69, 0.1);\\n          border: 1px solid var(--error);\\n          border-radius: 4px;\\n          color: var(--error);\\n        }\\n\\n        .loading {\\n          text-align: center;\\n          padding: 40px;\\n        }\\n\\n        .progress-spinner {\\n          width: 40px;\\n          height: 40px;\\n          border: 4px solid var(--bg-tertiary);\\n          border-top: 4px solid var(--accent);\\n          border-radius: 50%;\\n          animation: spin 1s linear infinite;\\n          margin: 0 auto 20px;\\n        }\\n\\n        @keyframes spin {\\n          0% { transform: rotate(0deg); }\\n          100% { transform: rotate(360deg); }\\n        }\\n\\n        @media (max-width: 768px) {\\n          .progress-details {\\n            grid-template-columns: 1fr;\\n          }\\n\\n          .progress-header {\\n            flex-direction: column;\\n            align-items: flex-start;\\n            gap: 10px;\\n          }\\n        }\\n      \"));\n};\nvar $407363bb42bbbc71$var$_default = module.exports[\"default\"] = $407363bb42bbbc71$var$ResearchProgress;\n\n});\n\n\n//# sourceMappingURL=ResearchProgress.52945ffb.js.map\n","import React, { useState, useEffect } from 'react';\n\nconst ResearchProgress = ({ taskId, onComplete, onError }) => {\n  const [progress, setProgress] = useState(null);\n  const [isConnected, setIsConnected] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (!taskId) return;\n\n    const eventSource = new EventSource(`/api/research/${taskId}/progress`);\n\n    eventSource.onopen = () => {\n      setIsConnected(true);\n      setError(null);\n    };\n\n    eventSource.onmessage = (event) => {\n      try {\n        const data = JSON.parse(event.data);\n\n        if (data.error) {\n          setError(data.error);\n          onError && onError(data.error);\n          return;\n        }\n\n        if (data.type === 'heartbeat') {\n          // Keep connection alive\n          return;\n        }\n\n        setProgress(data);\n\n        if (data.status === 'completed') {\n          onComplete && onComplete(data);\n          eventSource.close();\n        }\n      } catch (err) {\n        console.error('Error parsing progress data:', err);\n        setError('Failed to parse progress data');\n      }\n    };\n\n    eventSource.onerror = (err) => {\n      console.error('EventSource error:', err);\n      setIsConnected(false);\n      setError('Connection lost');\n      onError && onError('Connection lost');\n    };\n\n    return () => {\n      eventSource.close();\n      setIsConnected(false);\n    };\n  }, [taskId, onComplete, onError]);\n\n  if (!progress) {\n    return (\n      <div className=\"research-progress loading\">\n        <div className=\"progress-spinner\"></div>\n        <p>Connecting to research session...</p>\n      </div>\n    );\n  }\n\n  const progressPercent = Math.round(progress.progress || 0);\n\n  return (\n    <div className=\"research-progress\">\n      <div className=\"progress-header\">\n        <h3>Research Progress</h3>\n        <div className={`status-indicator ${progress.status}`}>\n          <span className={`status-dot ${progress.status}`}></span>\n          {progress.status === 'running' ? 'Running' :\n           progress.status === 'completed' ? 'Completed' : 'Error'}\n        </div>\n      </div>\n\n      <div className=\"progress-bar-container\">\n        <div className=\"progress-bar\">\n          <div\n            className=\"progress-fill\"\n            style={{ width: `${progressPercent}%` }}\n          ></div>\n        </div>\n        <span className=\"progress-text\">{progressPercent}%</span>\n      </div>\n\n      <div className=\"progress-details\">\n        <div className=\"detail-row\">\n          <span className=\"label\">Phase:</span>\n          <span className=\"value\">{progress.phase || 'Initializing'}</span>\n        </div>\n        <div className=\"detail-row\">\n          <span className=\"label\">Topics:</span>\n          <span className=\"value\">\n            {progress.topics_completed || 0} / {progress.total_topics || 0}\n          </span>\n        </div>\n        <div className=\"detail-row\">\n          <span className=\"label\">Findings:</span>\n          <span className=\"value\">{progress.findings_count || 0}</span>\n        </div>\n        {progress.start_time && (\n          <div className=\"detail-row\">\n            <span className=\"label\">Started:</span>\n            <span className=\"value\">\n              {new Date(progress.start_time).toLocaleTimeString()}\n            </span>\n          </div>\n        )}\n      </div>\n\n      {error && (\n        <div className=\"progress-error\">\n          <span className=\"error-icon\">⚠️</span>\n          <span className=\"error-message\">{error}</span>\n        </div>\n      )}\n\n      <style>{`\n        .research-progress {\n          background: var(--bg-primary);\n          border-radius: 8px;\n          padding: 20px;\n          box-shadow: 0 2px 10px var(--shadow);\n          margin: 20px 0;\n        }\n\n        .progress-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 20px;\n        }\n\n        .progress-header h3 {\n          margin: 0;\n          color: var(--text-primary);\n        }\n\n        .status-indicator {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          font-size: 14px;\n          font-weight: 500;\n        }\n\n        .status-dot {\n          width: 8px;\n          height: 8px;\n          border-radius: 50%;\n        }\n\n        .status-dot.running {\n          background: var(--accent);\n          animation: pulse 2s infinite;\n        }\n\n        .status-dot.completed {\n          background: var(--success);\n        }\n\n        .status-dot.error {\n          background: var(--error);\n        }\n\n        @keyframes pulse {\n          0% { opacity: 1; }\n          50% { opacity: 0.5; }\n          100% { opacity: 1; }\n        }\n\n        .progress-bar-container {\n          display: flex;\n          align-items: center;\n          gap: 10px;\n          margin-bottom: 20px;\n        }\n\n        .progress-bar {\n          flex: 1;\n          height: 20px;\n          background: var(--bg-tertiary);\n          border-radius: 10px;\n          overflow: hidden;\n        }\n\n        .progress-fill {\n          height: 100%;\n          background: linear-gradient(90deg, var(--accent), #0056b3);\n          transition: width 0.3s ease;\n        }\n\n        .progress-text {\n          font-weight: 600;\n          color: var(--accent);\n          min-width: 45px;\n        }\n\n        .progress-details {\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 10px 20px;\n          margin-bottom: 15px;\n        }\n\n        .detail-row {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        .label {\n          font-weight: 500;\n          color: var(--text-secondary);\n        }\n\n        .value {\n          font-weight: 600;\n          color: var(--text-primary);\n        }\n\n        .progress-error {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 10px;\n          background: rgba(220, 53, 69, 0.1);\n          border: 1px solid var(--error);\n          border-radius: 4px;\n          color: var(--error);\n        }\n\n        .loading {\n          text-align: center;\n          padding: 40px;\n        }\n\n        .progress-spinner {\n          width: 40px;\n          height: 40px;\n          border: 4px solid var(--bg-tertiary);\n          border-top: 4px solid var(--accent);\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n          margin: 0 auto 20px;\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        @media (max-width: 768px) {\n          .progress-details {\n            grid-template-columns: 1fr;\n          }\n\n          .progress-header {\n            flex-direction: column;\n            align-items: flex-start;\n            gap: 10px;\n          }\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default ResearchProgress;"],"names":["parcelRequire","$parcel$global","globalThis","parcelRegister","register","module","exports","$407363bb42bbbc71$var$_typeof","o","Symbol","iterator","prototype","Object","defineProperty","value","$407363bb42bbbc71$var$_react","$407363bb42bbbc71$var$_interopRequireWildcard","e","t","WeakMap","r","n","__esModule","i","f","__proto__","has","get","set","_t","hasOwnProperty","call","getOwnPropertyDescriptor","$407363bb42bbbc71$var$_slicedToArray","$407363bb42bbbc71$var$_arrayWithHoles","Array","isArray","$407363bb42bbbc71$var$_iterableToArrayLimit","l","u","a","next","done","push","length","$407363bb42bbbc71$var$_unsupportedIterableToArray","$407363bb42bbbc71$var$_arrayLikeToArray","toString","slice","name","from","test","$407363bb42bbbc71$var$_nonIterableRest","TypeError","_ref","taskId","onComplete","onError","_useState2","useState","progress","setProgress","_useState4","setIsConnected","_useState6","error","setError","useEffect","eventSource","EventSource","concat","onopen","onmessage","event","data","JSON","parse","type","status","close","err","console","onerror","createElement","className","progressPercent","Math","round","style","width","phase","topics_completed","total_topics","findings_count","start_time","Date","toLocaleTimeString","_react","_interopRequireWildcard","require","_typeof","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","_arrayLikeToArray","constructor","ResearchProgress","_useState","_useState3","isConnected","_useState5","_default"],"version":3,"file":"ResearchProgress.52945ffb.js.map"}