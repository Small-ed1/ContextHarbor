{"mappings":"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GACPF,EAAKK,kBAAkB,CAAC,EAAE,CAAE,CAAEC,KAAM,UAAWC,OAAQ,SAAU,GAC/DL,EAAY,IACdF,EAAKQ,kBAAkB,CAAC,EAAE,CAAE,CAAEC,QAAS,QAASH,KAAM,UAAWC,OAAQ,SAAU,GAEnFP,EAAKQ,kBAAkB,EAElC,CAAA,EAgI8BvC,EAAQyC,UAAU,CAAC,GAEhCzC,EAAQC,QAAQ,EACf,AAAA,CAAA,EAAAuE,EAAAA,GAAAnE,AAAAmE,EAH+B,OAAA,CAGzBrE,UAAU,iBAAgBC,SAAC,UAAQ,GAAA,AAC1C,GAAA,AACG,EACF,EA/CDJ,EAAQP,EAgDV,EACL,GAIN,AAAA,CAAA,EAAA+E,EAAAA,GAAAnE,AAAAmE,EAJM,QAAA,CAINpE,SAAQ;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;AAsPd,MAAA,CAAA,AAAO,GAAA,AAAS,EAGhB,EAEAqE,CAAAA,EAAa/B,WAAW,CAAG,eAAerG,EAAAA,OAAAA,CAAAI,OAAA,CAE3BgI,C,G,E,Q,S,C,C,C,E,O,c,C,E,O,C,a,C,M,C,C,G,E,O,C,O,C,E,O,C,Y,C,E,O,C,a,C,E,O,C,Y,C,E,O,C,c,C,E,O,C,c,C,K,ECteW1H,CAAAA,EAA1B,EAAA,WAA0BA,EAAAK,UAAA,C,IAAAL,E,E,E,SAE1B,IAAM8H,EAAWA,CAAC,C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","sources":["<anon>","src/ChatSessions.js","src/Skeleton.js"],"sourcesContent":["\n      var $parcel$global = globalThis;\n    var parcelRequire = $parcel$global[\"parcelRequire10c2\"];\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"7nx9Q\", function(module, exports) {\n\"use strict\";\nObject.defineProperty(module.exports, \"__esModule\", {\n    value: true\n});\nmodule.exports.default = void 0;\n\nvar $55f466d441890447$var$_react = $55f466d441890447$var$_interopRequireWildcard((parcelRequire(\"acw62\")));\n\nvar $55f466d441890447$var$_Skeleton = $55f466d441890447$var$_interopRequireWildcard((parcelRequire(\"gC2yi\")));\n\nvar $2zAJi = parcelRequire(\"2zAJi\");\n\nvar $ayMG0 = parcelRequire(\"ayMG0\");\nfunction $55f466d441890447$var$_interopRequireWildcard(e, t) {\n    if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap();\n    return ($55f466d441890447$var$_interopRequireWildcard = function(e, t) {\n        if (!t && e && e.__esModule) return e;\n        var o, i, f = {\n            __proto__: null,\n            default: e\n        };\n        if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f;\n        if (o = t ? n : r) {\n            if (o.has(e)) return o.get(e);\n            o.set(e, f);\n        }\n        for(const t in e)\"default\" !== t && ({}).hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]);\n        return f;\n    })(e, t);\n}\nconst $55f466d441890447$var$ChatSessions = /*#__PURE__*/ $55f466d441890447$var$_react.default.memo(({ onSessionSelect: onSessionSelect, currentSessionId: currentSessionId })=>{\n    const [sessions, setSessions] = (0, $55f466d441890447$var$_react.useState)([]);\n    const [loading, setLoading] = (0, $55f466d441890447$var$_react.useState)(true);\n    const [error, setError] = (0, $55f466d441890447$var$_react.useState)(null);\n    const [showArchived, setShowArchived] = (0, $55f466d441890447$var$_react.useState)(false);\n    (0, $55f466d441890447$var$_react.useEffect)(()=>{\n        loadSessions();\n    }, [\n        showArchived\n    ]);\n    const loadSessions = async ()=>{\n        try {\n            setLoading(true);\n            const data = await (0, $2zAJi.cachedFetch)('/api/chats');\n            setSessions(data || []);\n            setError(null);\n        } catch (err) {\n            setError(err.message);\n        } finally{\n            setLoading(false);\n        }\n    };\n    const createNewSession = async ()=>{\n        try {\n            const response = await fetch('/api/chats', {\n                method: 'POST'\n            });\n            if (!response.ok) throw new Error('Failed to create session');\n            const data = await response.json();\n            onSessionSelect && onSessionSelect(data.id);\n            await loadSessions(); // Refresh the list\n        } catch (err) {\n            setError(`Failed to create session: ${err.message}`);\n        }\n    };\n    const archiveSession = async (sessionId)=>{\n        if (!confirm(`Are you sure you want to archive this session?`)) return;\n        try {\n            const response = await fetch(`/api/chats/${sessionId}/archive`, {\n                method: 'POST'\n            });\n            if (!response.ok) throw new Error('Failed to archive session');\n            await loadSessions(); // Refresh the list\n        } catch (err) {\n            setError(`Failed to archive session: ${err.message}`);\n        }\n    };\n    const deleteSession = async (sessionId)=>{\n        if (!confirm(`Are you sure you want to permanently delete this session? This action cannot be undone.`)) return;\n        try {\n            const response = await fetch(`/api/chats/${sessionId}`, {\n                method: 'DELETE'\n            });\n            if (!response.ok) throw new Error('Failed to delete session');\n            await loadSessions(); // Refresh the list\n        } catch (err) {\n            setError(`Failed to delete session: ${err.message}`);\n        }\n    };\n    const formatDate = (dateString)=>{\n        if (!dateString) return 'Unknown';\n        const date = new Date(dateString);\n        const now = new Date();\n        const diffMs = now - date;\n        const diffHours = diffMs / 3600000;\n        if (diffHours < 24) return date.toLocaleTimeString([], {\n            hour: '2-digit',\n            minute: '2-digit'\n        });\n        else if (diffHours < 168) // 7 days\n        return date.toLocaleDateString([], {\n            weekday: 'short',\n            hour: '2-digit',\n            minute: '2-digit'\n        });\n        else return date.toLocaleDateString();\n    };\n    const getSessionPreview = (session)=>{\n        if (session.summary) return session.summary;\n        if (session.messages && session.messages.length > 0) {\n            const lastMessage = session.messages[session.messages.length - 1];\n            return lastMessage.content ? lastMessage.content.substring(0, 100) + '...' : 'Empty message';\n        }\n        return 'New conversation';\n    };\n    const filteredSessions = sessions.filter((session)=>showArchived || !session.archived);\n    if (loading) return /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n        className: \"chat-sessions\",\n        children: [\n            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                className: \"sessions-header\",\n                children: [\n                    /*#__PURE__*/ (0, $ayMG0.jsx)($55f466d441890447$var$_Skeleton.default, {\n                        width: \"150px\",\n                        height: \"1.2rem\"\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                        className: \"header-actions\",\n                        children: [\n                            /*#__PURE__*/ (0, $ayMG0.jsx)($55f466d441890447$var$_Skeleton.default, {\n                                width: \"100px\",\n                                height: \"2rem\"\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsx)($55f466d441890447$var$_Skeleton.default, {\n                                width: \"100px\",\n                                height: \"2rem\"\n                            })\n                        ]\n                    })\n                ]\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                className: \"sessions-list\",\n                children: Array.from({\n                    length: 3\n                }, (_, i)=>/*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                        className: \"session-item\",\n                        children: /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                            className: \"document-info\",\n                            children: [\n                                /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                    className: \"session-title-row\",\n                                    children: [\n                                        /*#__PURE__*/ (0, $ayMG0.jsx)($55f466d441890447$var$_Skeleton.default, {\n                                            width: \"80%\",\n                                            height: \"1rem\"\n                                        }),\n                                        /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                            className: \"session-actions\",\n                                            children: [\n                                                /*#__PURE__*/ (0, $ayMG0.jsx)($55f466d441890447$var$_Skeleton.default, {\n                                                    width: \"24px\",\n                                                    height: \"24px\",\n                                                    variant: \"circular\"\n                                                }),\n                                                /*#__PURE__*/ (0, $ayMG0.jsx)($55f466d441890447$var$_Skeleton.default, {\n                                                    width: \"24px\",\n                                                    height: \"24px\",\n                                                    variant: \"circular\"\n                                                })\n                                            ]\n                                        })\n                                    ]\n                                }),\n                                /*#__PURE__*/ (0, $ayMG0.jsx)($55f466d441890447$var$_Skeleton.SkeletonText, {\n                                    lines: 2,\n                                    width: \"100%\"\n                                }),\n                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                                    className: \"session-meta\",\n                                    children: /*#__PURE__*/ (0, $ayMG0.jsx)($55f466d441890447$var$_Skeleton.default, {\n                                        width: \"60px\",\n                                        height: \"0.8rem\"\n                                    })\n                                })\n                            ]\n                        })\n                    }, i))\n            })\n        ]\n    });\n    return /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n        className: \"chat-sessions\",\n        children: [\n            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                className: \"sessions-header\",\n                children: [\n                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"h3\", {\n                        children: \"Chat Sessions\"\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                        className: \"header-actions\",\n                        children: [\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"label\", {\n                                className: \"archive-toggle\",\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"input\", {\n                                        type: \"checkbox\",\n                                        checked: showArchived,\n                                        onChange: (e)=>setShowArchived(e.target.checked)\n                                    }),\n                                    \"Show archived\"\n                                ]\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                onClick: createNewSession,\n                                className: \"new-session-button\",\n                                children: \"+ New Chat\"\n                            })\n                        ]\n                    })\n                ]\n            }),\n            error && /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                className: \"error-message\",\n                children: [\n                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                        className: \"error-icon\",\n                        children: \"\\u26A0\\uFE0F\"\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                        children: error\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                        onClick: ()=>setError(null),\n                        className: \"dismiss-error\",\n                        children: \"\\xD7\"\n                    })\n                ]\n            }),\n            filteredSessions.length === 0 ? /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                className: \"no-sessions\",\n                children: [\n                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"p\", {\n                        children: showArchived ? 'No archived sessions found.' : 'No chat sessions found.'\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"p\", {\n                        children: \"Start a new conversation to see it here.\"\n                    })\n                ]\n            }) : /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                className: \"sessions-list\",\n                children: filteredSessions.map((session)=>/*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                        className: `session-item ${session.id === currentSessionId ? 'active' : ''} ${session.archived ? 'archived' : ''}`,\n                        onClick: ()=>onSessionSelect && onSessionSelect(session.id),\n                        children: /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                            className: \"session-content\",\n                            children: [\n                                /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                    className: \"session-title-row\",\n                                    children: [\n                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"h4\", {\n                                            className: \"session-title\",\n                                            children: session.title || 'Untitled Chat'\n                                        }),\n                                        /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                            className: \"session-actions\",\n                                            children: [\n                                                !session.archived && /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                                    onClick: (e)=>{\n                                                        e.stopPropagation();\n                                                        archiveSession(session.id);\n                                                    },\n                                                    className: \"archive-button\",\n                                                    title: \"Archive session\",\n                                                    children: \"\\uD83D\\uDCC1\"\n                                                }),\n                                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                                                    onClick: (e)=>{\n                                                        e.stopPropagation();\n                                                        deleteSession(session.id);\n                                                    },\n                                                    className: \"delete-button\",\n                                                    title: \"Delete session\",\n                                                    children: \"\\uD83D\\uDDD1\\uFE0F\"\n                                                })\n                                            ]\n                                        })\n                                    ]\n                                }),\n                                /*#__PURE__*/ (0, $ayMG0.jsx)(\"p\", {\n                                    className: \"session-preview\",\n                                    children: getSessionPreview(session)\n                                }),\n                                /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                                    className: \"session-meta\",\n                                    children: [\n                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                            className: \"session-date\",\n                                            children: formatDate(session.created_at)\n                                        }),\n                                        session.archived && /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                            className: \"archived-badge\",\n                                            children: \"Archived\"\n                                        })\n                                    ]\n                                })\n                            ]\n                        })\n                    }, session.id))\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"style\", {\n                children: `\n        .chat-sessions {\n          background: var(--bg-primary);\n          border-radius: 8px;\n          padding: 20px;\n          box-shadow: 0 2px 10px var(--shadow);\n          margin: 20px 0;\n        }\n\n        .sessions-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 20px;\n          flex-wrap: wrap;\n          gap: 15px;\n        }\n\n        .sessions-header h3 {\n          margin: 0;\n          color: var(--text-primary);\n        }\n\n        .header-actions {\n          display: flex;\n          align-items: center;\n          gap: 15px;\n        }\n\n        .archive-toggle {\n          display: flex;\n          align-items: center;\n          gap: 5px;\n          font-size: 14px;\n          color: var(--text-secondary);\n          cursor: pointer;\n        }\n\n        .archive-toggle input[type=\"checkbox\"] {\n          margin: 0;\n        }\n\n        .new-session-button {\n          padding: 8px 16px;\n          background: var(--accent);\n          color: white;\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 14px;\n          font-weight: 500;\n        }\n\n        .new-session-button:hover {\n          background: #0056b3;\n        }\n\n        .error-message {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 10px;\n          background: #f8d7da;\n          border: 1px solid #f5c6cb;\n          border-radius: 4px;\n          color: #721c24;\n          margin-bottom: 15px;\n        }\n\n        .dismiss-error {\n          margin-left: auto;\n          background: none;\n          border: none;\n          font-size: 18px;\n          cursor: pointer;\n          color: #721c24;\n        }\n\n        .no-sessions {\n          text-align: center;\n          padding: 40px;\n          color: #666;\n        }\n\n        .no-sessions p {\n          margin: 10px 0;\n        }\n\n        .sessions-list {\n          display: flex;\n          flex-direction: column;\n          gap: 10px;\n        }\n\n        .session-item {\n          border: 1px solid #e9ecef;\n          border-radius: 6px;\n          padding: 15px;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          background: #f8f9fa;\n        }\n\n        .session-item:hover {\n          box-shadow: 0 2px 8px var(--shadow);\n        }\n\n        .session-item.selected {\n          border-color: var(--accent);\n        }\n\n        .session-item.active {\n          border-color: #007bff;\n          background: #e7f3ff;\n        }\n\n        .session-item.archived {\n          opacity: 0.7;\n          border-style: dashed;\n        }\n\n        .session-content {\n          width: 100%;\n        }\n\n        .session-title-row {\n          display: flex;\n          justify-content: space-between;\n          align-items: flex-start;\n          margin-bottom: 8px;\n        }\n\n        .session-title {\n          margin: 0 0 8px 0;\n          color: var(--text-primary);\n        }\n\n        .session-actions {\n          display: flex;\n          gap: 5px;\n          opacity: 0;\n          transition: opacity 0.2s ease;\n        }\n\n        .session-item:hover .session-actions {\n          opacity: 1;\n        }\n\n        .archive-button,\n        .delete-button {\n          background: none;\n          border: none;\n          cursor: pointer;\n          padding: 4px;\n          border-radius: 3px;\n          font-size: 14px;\n          transition: background-color 0.2s ease;\n        }\n\n        .archive-button:hover {\n          background: #e9ecef;\n        }\n\n        .delete-button:hover {\n          background: #f8d7da;\n        }\n\n        .session-preview {\n          margin: 0 0 8px 0;\n          color: #666;\n          font-size: 14px;\n          line-height: 1.4;\n          display: -webkit-box;\n          -webkit-line-clamp: 2;\n          -webkit-box-orient: vertical;\n          overflow: hidden;\n        }\n\n        .session-meta {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          font-size: 12px;\n        }\n\n        .session-date {\n          color: #999;\n        }\n\n        .archived-badge {\n          background: #ffc107;\n          color: #856404;\n          padding: 2px 6px;\n          border-radius: 10px;\n          font-size: 10px;\n          font-weight: 500;\n        }\n\n        .loading {\n          text-align: center;\n          padding: 40px;\n        }\n\n        .spinner {\n          width: 30px;\n          height: 30px;\n          border: 3px solid #f3f3f3;\n          border-top: 3px solid var(--accent);\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n          margin: 0 auto 15px;\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          50% { transform: rotate(180deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        @media (max-width: 768px) {\n          .sessions-header {\n            flex-direction: column;\n            align-items: flex-start;\n          }\n\n          .header-actions {\n            width: 100%;\n            justify-content: space-between;\n          }\n\n          .session-title-row {\n            flex-direction: column;\n            gap: 10px;\n          }\n\n          .session-actions {\n            opacity: 1;\n            justify-content: flex-end;\n          }\n\n          .session-meta {\n            flex-direction: column;\n            align-items: flex-start;\n            gap: 5px;\n          }\n        }\n      `\n            })\n        ]\n    });\n});\n$55f466d441890447$var$ChatSessions.displayName = 'ChatSessions';\nvar $55f466d441890447$var$_default = module.exports.default = $55f466d441890447$var$ChatSessions;\n\n});\nparcelRegister(\"gC2yi\", function(module, exports) {\n\"use strict\";\nObject.defineProperty(module.exports, \"__esModule\", {\n    value: true\n});\nmodule.exports.default = module.exports.SkeletonText = module.exports.SkeletonTable = module.exports.SkeletonCard = module.exports.SkeletonButton = module.exports.SkeletonAvatar = void 0;\n\nvar $c1822cc66efdc89d$var$_react = $c1822cc66efdc89d$var$_interopRequireDefault((parcelRequire(\"acw62\")));\n\nvar $ayMG0 = parcelRequire(\"ayMG0\");\nfunction $c1822cc66efdc89d$var$_interopRequireDefault(e) {\n    return e && e.__esModule ? e : {\n        default: e\n    };\n}\nconst $c1822cc66efdc89d$var$Skeleton = ({ width: width = '100%', height: height = '1rem', className: className = '', variant: variant = 'text', animation: animation = 'pulse' })=>{\n    const baseClasses = 'skeleton';\n    const variantClasses = {\n        text: 'skeleton-text',\n        rectangular: 'skeleton-rectangular',\n        circular: 'skeleton-circular',\n        avatar: 'skeleton-avatar'\n    };\n    const animationClasses = {\n        pulse: 'skeleton-pulse',\n        wave: 'skeleton-wave'\n    };\n    const classes = [\n        baseClasses,\n        variantClasses[variant] || variantClasses.text,\n        animationClasses[animation] || animationClasses.pulse,\n        className\n    ].filter(Boolean).join(' ');\n    return /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n        className: classes,\n        style: {\n            width: width,\n            height: height\n        }\n    });\n};\n// Predefined skeleton components\nconst $c1822cc66efdc89d$var$SkeletonText = ({ lines: lines = 1, width: width = '100%', ...props })=>/*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n        className: \"skeleton-text-block\",\n        children: Array.from({\n            length: lines\n        }, (_, i)=>/*#__PURE__*/ (0, $ayMG0.jsx)($c1822cc66efdc89d$var$Skeleton, {\n                width: i === lines - 1 ? '60%' : width,\n                height: \"1rem\",\n                variant: \"text\",\n                ...props\n            }, i))\n    });\nmodule.exports.SkeletonText = $c1822cc66efdc89d$var$SkeletonText;\nconst $c1822cc66efdc89d$var$SkeletonCard = ({ height: height = '200px', ...props })=>/*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n        className: \"skeleton-card\",\n        children: [\n            /*#__PURE__*/ (0, $ayMG0.jsx)($c1822cc66efdc89d$var$Skeleton, {\n                height: \"2rem\",\n                width: \"80%\",\n                className: \"skeleton-card-title\",\n                ...props\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsx)($c1822cc66efdc89d$var$Skeleton, {\n                height: height,\n                variant: \"rectangular\",\n                className: \"skeleton-card-content\",\n                ...props\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                className: \"skeleton-card-footer\",\n                children: [\n                    /*#__PURE__*/ (0, $ayMG0.jsx)($c1822cc66efdc89d$var$Skeleton, {\n                        width: \"40%\",\n                        height: \"0.8rem\",\n                        ...props\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsx)($c1822cc66efdc89d$var$Skeleton, {\n                        width: \"30%\",\n                        height: \"0.8rem\",\n                        ...props\n                    })\n                ]\n            })\n        ]\n    });\nmodule.exports.SkeletonCard = $c1822cc66efdc89d$var$SkeletonCard;\nconst $c1822cc66efdc89d$var$SkeletonTable = ({ rows: rows = 5, columns: columns = 4, ...props })=>/*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n        className: \"skeleton-table\",\n        children: [\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                className: \"skeleton-table-header\",\n                children: Array.from({\n                    length: columns\n                }, (_, i)=>/*#__PURE__*/ (0, $ayMG0.jsx)($c1822cc66efdc89d$var$Skeleton, {\n                        height: \"1.2rem\",\n                        width: \"100%\",\n                        ...props\n                    }, i))\n            }),\n            Array.from({\n                length: rows\n            }, (_, rowIndex)=>/*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                    className: \"skeleton-table-row\",\n                    children: Array.from({\n                        length: columns\n                    }, (_, colIndex)=>/*#__PURE__*/ (0, $ayMG0.jsx)($c1822cc66efdc89d$var$Skeleton, {\n                            height: \"1rem\",\n                            width: \"100%\",\n                            ...props\n                        }, colIndex))\n                }, rowIndex))\n        ]\n    });\nmodule.exports.SkeletonTable = $c1822cc66efdc89d$var$SkeletonTable;\nconst $c1822cc66efdc89d$var$SkeletonAvatar = ({ size: size = '40px', ...props })=>/*#__PURE__*/ (0, $ayMG0.jsx)($c1822cc66efdc89d$var$Skeleton, {\n        width: size,\n        height: size,\n        variant: \"circular\",\n        ...props\n    });\nmodule.exports.SkeletonAvatar = $c1822cc66efdc89d$var$SkeletonAvatar;\nconst $c1822cc66efdc89d$var$SkeletonButton = ({ width: width = '120px', ...props })=>/*#__PURE__*/ (0, $ayMG0.jsx)($c1822cc66efdc89d$var$Skeleton, {\n        width: width,\n        height: \"2.5rem\",\n        variant: \"rectangular\",\n        className: \"skeleton-button\",\n        ...props\n    });\nmodule.exports.SkeletonButton = $c1822cc66efdc89d$var$SkeletonButton;\nvar $c1822cc66efdc89d$var$_default = module.exports.default = $c1822cc66efdc89d$var$Skeleton;\n\n});\n\n\n\n//# sourceMappingURL=ChatSessions.492498d1.js.map\n","import React, { useState, useEffect } from 'react';\nimport Skeleton, { SkeletonText, SkeletonCard } from './Skeleton';\nimport { cachedFetch } from './apiCache';\n\nconst ChatSessions = React.memo(({ onSessionSelect, currentSessionId }) => {\n  const [sessions, setSessions] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showArchived, setShowArchived] = useState(false);\n\n  useEffect(() => {\n    loadSessions();\n  }, [showArchived]);\n\n  const loadSessions = async () => {\n    try {\n      setLoading(true);\n      const data = await cachedFetch('/api/chats');\n      setSessions(data || []);\n      setError(null);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const createNewSession = async () => {\n    try {\n      const response = await fetch('/api/chats', {\n        method: 'POST',\n      });\n      if (!response.ok) {\n        throw new Error('Failed to create session');\n      }\n      const data = await response.json();\n      onSessionSelect && onSessionSelect(data.id);\n      await loadSessions(); // Refresh the list\n    } catch (err) {\n      setError(`Failed to create session: ${err.message}`);\n    }\n  };\n\n  const archiveSession = async (sessionId) => {\n    if (!confirm(`Are you sure you want to archive this session?`)) {\n      return;\n    }\n\n    try {\n      const response = await fetch(`/api/chats/${sessionId}/archive`, {\n        method: 'POST',\n      });\n      if (!response.ok) {\n        throw new Error('Failed to archive session');\n      }\n      await loadSessions(); // Refresh the list\n    } catch (err) {\n      setError(`Failed to archive session: ${err.message}`);\n    }\n  };\n\n  const deleteSession = async (sessionId) => {\n    if (!confirm(`Are you sure you want to permanently delete this session? This action cannot be undone.`)) {\n      return;\n    }\n\n    try {\n      const response = await fetch(`/api/chats/${sessionId}`, {\n        method: 'DELETE',\n      });\n      if (!response.ok) {\n        throw new Error('Failed to delete session');\n      }\n      await loadSessions(); // Refresh the list\n    } catch (err) {\n      setError(`Failed to delete session: ${err.message}`);\n    }\n  };\n\n  const formatDate = (dateString) => {\n    if (!dateString) return 'Unknown';\n    const date = new Date(dateString);\n    const now = new Date();\n    const diffMs = now - date;\n    const diffHours = diffMs / (1000 * 60 * 60);\n\n    if (diffHours < 24) {\n      return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n    } else if (diffHours < 168) { // 7 days\n      return date.toLocaleDateString([], { weekday: 'short', hour: '2-digit', minute: '2-digit' });\n    } else {\n      return date.toLocaleDateString();\n    }\n  };\n\n  const getSessionPreview = (session) => {\n    if (session.summary) {\n      return session.summary;\n    }\n    if (session.messages && session.messages.length > 0) {\n      const lastMessage = session.messages[session.messages.length - 1];\n      return lastMessage.content ? lastMessage.content.substring(0, 100) + '...' : 'Empty message';\n    }\n    return 'New conversation';\n  };\n\n  const filteredSessions = sessions.filter(session =>\n    showArchived || !session.archived\n  );\n\n  if (loading) {\n    return (\n      <div className=\"chat-sessions\">\n        <div className=\"sessions-header\">\n          <Skeleton width=\"150px\" height=\"1.2rem\" />\n          <div className=\"header-actions\">\n            <Skeleton width=\"100px\" height=\"2rem\" />\n            <Skeleton width=\"100px\" height=\"2rem\" />\n          </div>\n        </div>\n\n        <div className=\"sessions-list\">\n          {Array.from({ length: 3 }, (_, i) => (\n            <div key={i} className=\"session-item\">\n              <div className=\"document-info\">\n                <div className=\"session-title-row\">\n                  <Skeleton width=\"80%\" height=\"1rem\" />\n                  <div className=\"session-actions\">\n                    <Skeleton width=\"24px\" height=\"24px\" variant=\"circular\" />\n                    <Skeleton width=\"24px\" height=\"24px\" variant=\"circular\" />\n                  </div>\n                </div>\n                <SkeletonText lines={2} width=\"100%\" />\n                <div className=\"session-meta\">\n                  <Skeleton width=\"60px\" height=\"0.8rem\" />\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"chat-sessions\">\n      <div className=\"sessions-header\">\n        <h3>Chat Sessions</h3>\n        <div className=\"header-actions\">\n          <label className=\"archive-toggle\">\n            <input\n              type=\"checkbox\"\n              checked={showArchived}\n              onChange={(e) => setShowArchived(e.target.checked)}\n            />\n            Show archived\n          </label>\n          <button onClick={createNewSession} className=\"new-session-button\">\n            + New Chat\n          </button>\n        </div>\n      </div>\n\n      {error && (\n        <div className=\"error-message\">\n          <span className=\"error-icon\">‚ö†Ô∏è</span>\n          <span>{error}</span>\n          <button onClick={() => setError(null)} className=\"dismiss-error\">√ó</button>\n        </div>\n      )}\n\n      {filteredSessions.length === 0 ? (\n        <div className=\"no-sessions\">\n          <p>{showArchived ? 'No archived sessions found.' : 'No chat sessions found.'}</p>\n          <p>Start a new conversation to see it here.</p>\n        </div>\n      ) : (\n        <div className=\"sessions-list\">\n          {filteredSessions.map((session) => (\n            <div\n              key={session.id}\n              className={`session-item ${session.id === currentSessionId ? 'active' : ''} ${session.archived ? 'archived' : ''}`}\n              onClick={() => onSessionSelect && onSessionSelect(session.id)}\n            >\n              <div className=\"session-content\">\n                <div className=\"session-title-row\">\n                  <h4 className=\"session-title\">\n                    {session.title || 'Untitled Chat'}\n                  </h4>\n                  <div className=\"session-actions\">\n                    {!session.archived && (\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          archiveSession(session.id);\n                        }}\n                        className=\"archive-button\"\n                        title=\"Archive session\"\n                      >\n                        üìÅ\n                      </button>\n                    )}\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        deleteSession(session.id);\n                      }}\n                      className=\"delete-button\"\n                      title=\"Delete session\"\n                    >\n                      üóëÔ∏è\n                    </button>\n                  </div>\n                </div>\n\n                <p className=\"session-preview\">\n                  {getSessionPreview(session)}\n                </p>\n\n                <div className=\"session-meta\">\n                  <span className=\"session-date\">\n                    {formatDate(session.created_at)}\n                  </span>\n                  {session.archived && (\n                    <span className=\"archived-badge\">Archived</span>\n                  )}\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      <style>{`\n        .chat-sessions {\n          background: var(--bg-primary);\n          border-radius: 8px;\n          padding: 20px;\n          box-shadow: 0 2px 10px var(--shadow);\n          margin: 20px 0;\n        }\n\n        .sessions-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 20px;\n          flex-wrap: wrap;\n          gap: 15px;\n        }\n\n        .sessions-header h3 {\n          margin: 0;\n          color: var(--text-primary);\n        }\n\n        .header-actions {\n          display: flex;\n          align-items: center;\n          gap: 15px;\n        }\n\n        .archive-toggle {\n          display: flex;\n          align-items: center;\n          gap: 5px;\n          font-size: 14px;\n          color: var(--text-secondary);\n          cursor: pointer;\n        }\n\n        .archive-toggle input[type=\"checkbox\"] {\n          margin: 0;\n        }\n\n        .new-session-button {\n          padding: 8px 16px;\n          background: var(--accent);\n          color: white;\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 14px;\n          font-weight: 500;\n        }\n\n        .new-session-button:hover {\n          background: #0056b3;\n        }\n\n        .error-message {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 10px;\n          background: #f8d7da;\n          border: 1px solid #f5c6cb;\n          border-radius: 4px;\n          color: #721c24;\n          margin-bottom: 15px;\n        }\n\n        .dismiss-error {\n          margin-left: auto;\n          background: none;\n          border: none;\n          font-size: 18px;\n          cursor: pointer;\n          color: #721c24;\n        }\n\n        .no-sessions {\n          text-align: center;\n          padding: 40px;\n          color: #666;\n        }\n\n        .no-sessions p {\n          margin: 10px 0;\n        }\n\n        .sessions-list {\n          display: flex;\n          flex-direction: column;\n          gap: 10px;\n        }\n\n        .session-item {\n          border: 1px solid #e9ecef;\n          border-radius: 6px;\n          padding: 15px;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          background: #f8f9fa;\n        }\n\n        .session-item:hover {\n          box-shadow: 0 2px 8px var(--shadow);\n        }\n\n        .session-item.selected {\n          border-color: var(--accent);\n        }\n\n        .session-item.active {\n          border-color: #007bff;\n          background: #e7f3ff;\n        }\n\n        .session-item.archived {\n          opacity: 0.7;\n          border-style: dashed;\n        }\n\n        .session-content {\n          width: 100%;\n        }\n\n        .session-title-row {\n          display: flex;\n          justify-content: space-between;\n          align-items: flex-start;\n          margin-bottom: 8px;\n        }\n\n        .session-title {\n          margin: 0 0 8px 0;\n          color: var(--text-primary);\n        }\n\n        .session-actions {\n          display: flex;\n          gap: 5px;\n          opacity: 0;\n          transition: opacity 0.2s ease;\n        }\n\n        .session-item:hover .session-actions {\n          opacity: 1;\n        }\n\n        .archive-button,\n        .delete-button {\n          background: none;\n          border: none;\n          cursor: pointer;\n          padding: 4px;\n          border-radius: 3px;\n          font-size: 14px;\n          transition: background-color 0.2s ease;\n        }\n\n        .archive-button:hover {\n          background: #e9ecef;\n        }\n\n        .delete-button:hover {\n          background: #f8d7da;\n        }\n\n        .session-preview {\n          margin: 0 0 8px 0;\n          color: #666;\n          font-size: 14px;\n          line-height: 1.4;\n          display: -webkit-box;\n          -webkit-line-clamp: 2;\n          -webkit-box-orient: vertical;\n          overflow: hidden;\n        }\n\n        .session-meta {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          font-size: 12px;\n        }\n\n        .session-date {\n          color: #999;\n        }\n\n        .archived-badge {\n          background: #ffc107;\n          color: #856404;\n          padding: 2px 6px;\n          border-radius: 10px;\n          font-size: 10px;\n          font-weight: 500;\n        }\n\n        .loading {\n          text-align: center;\n          padding: 40px;\n        }\n\n        .spinner {\n          width: 30px;\n          height: 30px;\n          border: 3px solid #f3f3f3;\n          border-top: 3px solid var(--accent);\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n          margin: 0 auto 15px;\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          50% { transform: rotate(180deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        @media (max-width: 768px) {\n          .sessions-header {\n            flex-direction: column;\n            align-items: flex-start;\n          }\n\n          .header-actions {\n            width: 100%;\n            justify-content: space-between;\n          }\n\n          .session-title-row {\n            flex-direction: column;\n            gap: 10px;\n          }\n\n          .session-actions {\n            opacity: 1;\n            justify-content: flex-end;\n          }\n\n          .session-meta {\n            flex-direction: column;\n            align-items: flex-start;\n            gap: 5px;\n          }\n        }\n      `}</style>\n    </div>\n  );\n});\n\nChatSessions.displayName = 'ChatSessions';\n\nexport default ChatSessions;","import React from 'react';\n\nconst Skeleton = ({\n  width = '100%',\n  height = '1rem',\n  className = '',\n  variant = 'text',\n  animation = 'pulse'\n}) => {\n  const baseClasses = 'skeleton';\n\n  const variantClasses = {\n    text: 'skeleton-text',\n    rectangular: 'skeleton-rectangular',\n    circular: 'skeleton-circular',\n    avatar: 'skeleton-avatar',\n  };\n\n  const animationClasses = {\n    pulse: 'skeleton-pulse',\n    wave: 'skeleton-wave',\n  };\n\n  const classes = [\n    baseClasses,\n    variantClasses[variant] || variantClasses.text,\n    animationClasses[animation] || animationClasses.pulse,\n    className,\n  ].filter(Boolean).join(' ');\n\n  return (\n    <div\n      className={classes}\n      style={{ width, height }}\n    />\n  );\n};\n\n// Predefined skeleton components\nexport const SkeletonText = ({ lines = 1, width = '100%', ...props }) => (\n  <div className=\"skeleton-text-block\">\n    {Array.from({ length: lines }, (_, i) => (\n      <Skeleton\n        key={i}\n        width={i === lines - 1 ? '60%' : width}\n        height=\"1rem\"\n        variant=\"text\"\n        {...props}\n      />\n    ))}\n  </div>\n);\n\nexport const SkeletonCard = ({ height = '200px', ...props }) => (\n  <div className=\"skeleton-card\">\n    <Skeleton height=\"2rem\" width=\"80%\" className=\"skeleton-card-title\" {...props} />\n    <Skeleton height={height} variant=\"rectangular\" className=\"skeleton-card-content\" {...props} />\n    <div className=\"skeleton-card-footer\">\n      <Skeleton width=\"40%\" height=\"0.8rem\" {...props} />\n      <Skeleton width=\"30%\" height=\"0.8rem\" {...props} />\n    </div>\n  </div>\n);\n\nexport const SkeletonTable = ({ rows = 5, columns = 4, ...props }) => (\n  <div className=\"skeleton-table\">\n    {/* Header */}\n    <div className=\"skeleton-table-header\">\n      {Array.from({ length: columns }, (_, i) => (\n        <Skeleton key={i} height=\"1.2rem\" width=\"100%\" {...props} />\n      ))}\n    </div>\n    {/* Rows */}\n    {Array.from({ length: rows }, (_, rowIndex) => (\n      <div key={rowIndex} className=\"skeleton-table-row\">\n        {Array.from({ length: columns }, (_, colIndex) => (\n          <Skeleton\n            key={colIndex}\n            height=\"1rem\"\n            width=\"100%\"\n            {...props}\n          />\n        ))}\n      </div>\n    ))}\n  </div>\n);\n\nexport const SkeletonAvatar = ({ size = '40px', ...props }) => (\n  <Skeleton\n    width={size}\n    height={size}\n    variant=\"circular\"\n    {...props}\n  />\n);\n\nexport const SkeletonButton = ({ width = '120px', ...props }) => (\n  <Skeleton\n    width={width}\n    height=\"2.5rem\"\n    variant=\"rectangular\"\n    className=\"skeleton-button\"\n    {...props}\n  />\n);\n\nexport default Skeleton;"],"names":["parcelRequire","$parcel$global","globalThis","parcelRegister","register","module","exports","Object","defineProperty","value","default","$55f466d441890447$var$_react","$55f466d441890447$var$_interopRequireWildcard","$55f466d441890447$var$_Skeleton","$2zAJi","$ayMG0","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","has","get","set","hasOwnProperty","call","getOwnPropertyDescriptor","$55f466d441890447$var$ChatSessions","memo","onSessionSelect","currentSessionId","sessions","setSessions","useState","loading","setLoading","error","setError","showArchived","setShowArchived","useEffect","loadSessions","data","cachedFetch","err","message","createNewSession","response","fetch","method","ok","Error","json","id","archiveSession","sessionId","confirm","deleteSession","filteredSessions","filter","session","archived","jsxs","className","children","jsx","width","height","Array","from","length","_","variant","SkeletonText","lines","type","checked","onChange","target","onClick","map","title","stopPropagation","getSessionPreview","summary","messages","lastMessage","content","substring","formatDate","dateString","date","Date","diffHours","diffMs","now","toLocaleTimeString","hour","minute","toLocaleDateString","weekday","created_at","displayName","SkeletonTable","SkeletonCard","SkeletonButton","SkeletonAvatar","$c1822cc66efdc89d$var$Skeleton","animation","variantClasses","text","rectangular","circular","avatar","animationClasses","pulse","wave","classes","Boolean","join","style","props","rows","columns","rowIndex","colIndex","size","_react","_interopRequireWildcard","require","_Skeleton","_apiCache","_jsxRuntime","ChatSessions","React","_default","_interopRequireDefault","Skeleton","baseClasses"],"version":3,"file":"ChatSessions.492498d1.js.map"}