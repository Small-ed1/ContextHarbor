{"mappings":"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","sources":["<anon>","src/ResearchProgress.js"],"sourcesContent":["\n      var $parcel$global = globalThis;\n    var parcelRequire = $parcel$global[\"parcelRequire10c2\"];\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"5x4ke\", function(module, exports) {\n\"use strict\";\nObject.defineProperty(module.exports, \"__esModule\", {\n    value: true\n});\nmodule.exports.default = void 0;\n\nvar $407363bb42bbbc71$var$_react = $407363bb42bbbc71$var$_interopRequireWildcard((parcelRequire(\"acw62\")));\n\nvar $ayMG0 = parcelRequire(\"ayMG0\");\nfunction $407363bb42bbbc71$var$_interopRequireWildcard(e, t) {\n    if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap();\n    return ($407363bb42bbbc71$var$_interopRequireWildcard = function(e, t) {\n        if (!t && e && e.__esModule) return e;\n        var o, i, f = {\n            __proto__: null,\n            default: e\n        };\n        if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f;\n        if (o = t ? n : r) {\n            if (o.has(e)) return o.get(e);\n            o.set(e, f);\n        }\n        for(const t in e)\"default\" !== t && ({}).hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]);\n        return f;\n    })(e, t);\n}\nconst $407363bb42bbbc71$var$ResearchProgress = ({ taskId: taskId, onComplete: onComplete, onError: onError })=>{\n    const [progress, setProgress] = (0, $407363bb42bbbc71$var$_react.useState)(null);\n    const [isConnected, setIsConnected] = (0, $407363bb42bbbc71$var$_react.useState)(false);\n    const [error, setError] = (0, $407363bb42bbbc71$var$_react.useState)(null);\n    (0, $407363bb42bbbc71$var$_react.useEffect)(()=>{\n        if (!taskId) return;\n        const eventSource = new EventSource(`/api/research/${taskId}/progress`);\n        eventSource.onopen = ()=>{\n            setIsConnected(true);\n            setError(null);\n        };\n        eventSource.onmessage = (event)=>{\n            try {\n                const data = JSON.parse(event.data);\n                if (data.error) {\n                    setError(data.error);\n                    onError && onError(data.error);\n                    return;\n                }\n                if (data.type === 'heartbeat') // Keep connection alive\n                return;\n                setProgress(data);\n                if (data.status === 'completed') {\n                    onComplete && onComplete(data);\n                    eventSource.close();\n                }\n            } catch (err) {\n                console.error('Error parsing progress data:', err);\n                setError('Failed to parse progress data');\n            }\n        };\n        eventSource.onerror = (err)=>{\n            console.error('EventSource error:', err);\n            setIsConnected(false);\n            setError('Connection lost');\n            onError && onError('Connection lost');\n        };\n        return ()=>{\n            eventSource.close();\n            setIsConnected(false);\n        };\n    }, [\n        taskId,\n        onComplete,\n        onError\n    ]);\n    if (!progress) return /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n        className: \"research-progress loading\",\n        children: [\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                className: \"progress-spinner\"\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"p\", {\n                children: \"Connecting to research session...\"\n            })\n        ]\n    });\n    const progressPercent = Math.round(progress.progress || 0);\n    return /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n        className: \"research-progress\",\n        children: [\n            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                className: \"progress-header\",\n                children: [\n                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"h3\", {\n                        children: \"Research Progress\"\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                        className: `status-indicator ${progress.status}`,\n                        children: [\n                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                className: `status-dot ${progress.status}`\n                            }),\n                            progress.status === 'running' ? 'Running' : progress.status === 'completed' ? 'Completed' : 'Error'\n                        ]\n                    })\n                ]\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                className: \"progress-bar-container\",\n                children: [\n                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                        className: \"progress-bar\",\n                        children: /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                            className: \"progress-fill\",\n                            style: {\n                                width: `${progressPercent}%`\n                            }\n                        })\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"span\", {\n                        className: \"progress-text\",\n                        children: [\n                            progressPercent,\n                            \"%\"\n                        ]\n                    })\n                ]\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                className: \"progress-details\",\n                children: [\n                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                        className: \"detail-row\",\n                        children: [\n                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                className: \"label\",\n                                children: \"Phase:\"\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                className: \"value\",\n                                children: progress.phase || 'Initializing'\n                            })\n                        ]\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                        className: \"detail-row\",\n                        children: [\n                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                className: \"label\",\n                                children: \"Topics:\"\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"span\", {\n                                className: \"value\",\n                                children: [\n                                    progress.topics_completed || 0,\n                                    \" / \",\n                                    progress.total_topics || 0\n                                ]\n                            })\n                        ]\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                        className: \"detail-row\",\n                        children: [\n                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                className: \"label\",\n                                children: \"Findings:\"\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                className: \"value\",\n                                children: progress.findings_count || 0\n                            })\n                        ]\n                    }),\n                    progress.start_time && /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                        className: \"detail-row\",\n                        children: [\n                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                className: \"label\",\n                                children: \"Started:\"\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                className: \"value\",\n                                children: new Date(progress.start_time).toLocaleTimeString()\n                            })\n                        ]\n                    })\n                ]\n            }),\n            error && /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                className: \"progress-error\",\n                children: [\n                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                        className: \"error-icon\",\n                        children: \"\\u26A0\\uFE0F\"\n                    }),\n                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                        className: \"error-message\",\n                        children: error\n                    })\n                ]\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"style\", {\n                children: `\n        .research-progress {\n          background: var(--bg-primary);\n          border-radius: 8px;\n          padding: 20px;\n          box-shadow: 0 2px 10px var(--shadow);\n          margin: 20px 0;\n        }\n\n        .progress-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 20px;\n        }\n\n        .progress-header h3 {\n          margin: 0;\n          color: var(--text-primary);\n        }\n\n        .status-indicator {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          font-size: 14px;\n          font-weight: 500;\n        }\n\n        .status-dot {\n          width: 8px;\n          height: 8px;\n          border-radius: 50%;\n        }\n\n        .status-dot.running {\n          background: var(--accent);\n          animation: pulse 2s infinite;\n        }\n\n        .status-dot.completed {\n          background: var(--success);\n        }\n\n        .status-dot.error {\n          background: var(--error);\n        }\n\n        @keyframes pulse {\n          0% { opacity: 1; }\n          50% { opacity: 0.5; }\n          100% { opacity: 1; }\n        }\n\n        .progress-bar-container {\n          display: flex;\n          align-items: center;\n          gap: 10px;\n          margin-bottom: 20px;\n        }\n\n        .progress-bar {\n          flex: 1;\n          height: 20px;\n          background: var(--bg-tertiary);\n          border-radius: 10px;\n          overflow: hidden;\n        }\n\n        .progress-fill {\n          height: 100%;\n          background: linear-gradient(90deg, var(--accent), #0056b3);\n          transition: width 0.3s ease;\n        }\n\n        .progress-text {\n          font-weight: 600;\n          color: var(--accent);\n          min-width: 45px;\n        }\n\n        .progress-details {\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 10px 20px;\n          margin-bottom: 15px;\n        }\n\n        .detail-row {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        .label {\n          font-weight: 500;\n          color: var(--text-secondary);\n        }\n\n        .value {\n          font-weight: 600;\n          color: var(--text-primary);\n        }\n\n        .progress-error {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 10px;\n          background: rgba(220, 53, 69, 0.1);\n          border: 1px solid var(--error);\n          border-radius: 4px;\n          color: var(--error);\n        }\n\n        .loading {\n          text-align: center;\n          padding: 40px;\n        }\n\n        .progress-spinner {\n          width: 40px;\n          height: 40px;\n          border: 4px solid var(--bg-tertiary);\n          border-top: 4px solid var(--accent);\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n          margin: 0 auto 20px;\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        @media (max-width: 768px) {\n          .progress-details {\n            grid-template-columns: 1fr;\n          }\n\n          .progress-header {\n            flex-direction: column;\n            align-items: flex-start;\n            gap: 10px;\n          }\n        }\n      `\n            })\n        ]\n    });\n};\nvar $407363bb42bbbc71$var$_default = module.exports.default = $407363bb42bbbc71$var$ResearchProgress;\n\n});\n\n\n//# sourceMappingURL=ResearchProgress.bdbebb10.js.map\n","import React, { useState, useEffect } from 'react';\n\nconst ResearchProgress = ({ taskId, onComplete, onError }) => {\n  const [progress, setProgress] = useState(null);\n  const [isConnected, setIsConnected] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (!taskId) return;\n\n    const eventSource = new EventSource(`/api/research/${taskId}/progress`);\n\n    eventSource.onopen = () => {\n      setIsConnected(true);\n      setError(null);\n    };\n\n    eventSource.onmessage = (event) => {\n      try {\n        const data = JSON.parse(event.data);\n\n        if (data.error) {\n          setError(data.error);\n          onError && onError(data.error);\n          return;\n        }\n\n        if (data.type === 'heartbeat') {\n          // Keep connection alive\n          return;\n        }\n\n        setProgress(data);\n\n        if (data.status === 'completed') {\n          onComplete && onComplete(data);\n          eventSource.close();\n        }\n      } catch (err) {\n        console.error('Error parsing progress data:', err);\n        setError('Failed to parse progress data');\n      }\n    };\n\n    eventSource.onerror = (err) => {\n      console.error('EventSource error:', err);\n      setIsConnected(false);\n      setError('Connection lost');\n      onError && onError('Connection lost');\n    };\n\n    return () => {\n      eventSource.close();\n      setIsConnected(false);\n    };\n  }, [taskId, onComplete, onError]);\n\n  if (!progress) {\n    return (\n      <div className=\"research-progress loading\">\n        <div className=\"progress-spinner\"></div>\n        <p>Connecting to research session...</p>\n      </div>\n    );\n  }\n\n  const progressPercent = Math.round(progress.progress || 0);\n\n  return (\n    <div className=\"research-progress\">\n      <div className=\"progress-header\">\n        <h3>Research Progress</h3>\n        <div className={`status-indicator ${progress.status}`}>\n          <span className={`status-dot ${progress.status}`}></span>\n          {progress.status === 'running' ? 'Running' :\n           progress.status === 'completed' ? 'Completed' : 'Error'}\n        </div>\n      </div>\n\n      <div className=\"progress-bar-container\">\n        <div className=\"progress-bar\">\n          <div\n            className=\"progress-fill\"\n            style={{ width: `${progressPercent}%` }}\n          ></div>\n        </div>\n        <span className=\"progress-text\">{progressPercent}%</span>\n      </div>\n\n      <div className=\"progress-details\">\n        <div className=\"detail-row\">\n          <span className=\"label\">Phase:</span>\n          <span className=\"value\">{progress.phase || 'Initializing'}</span>\n        </div>\n        <div className=\"detail-row\">\n          <span className=\"label\">Topics:</span>\n          <span className=\"value\">\n            {progress.topics_completed || 0} / {progress.total_topics || 0}\n          </span>\n        </div>\n        <div className=\"detail-row\">\n          <span className=\"label\">Findings:</span>\n          <span className=\"value\">{progress.findings_count || 0}</span>\n        </div>\n        {progress.start_time && (\n          <div className=\"detail-row\">\n            <span className=\"label\">Started:</span>\n            <span className=\"value\">\n              {new Date(progress.start_time).toLocaleTimeString()}\n            </span>\n          </div>\n        )}\n      </div>\n\n      {error && (\n        <div className=\"progress-error\">\n          <span className=\"error-icon\">⚠️</span>\n          <span className=\"error-message\">{error}</span>\n        </div>\n      )}\n\n      <style>{`\n        .research-progress {\n          background: var(--bg-primary);\n          border-radius: 8px;\n          padding: 20px;\n          box-shadow: 0 2px 10px var(--shadow);\n          margin: 20px 0;\n        }\n\n        .progress-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 20px;\n        }\n\n        .progress-header h3 {\n          margin: 0;\n          color: var(--text-primary);\n        }\n\n        .status-indicator {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          font-size: 14px;\n          font-weight: 500;\n        }\n\n        .status-dot {\n          width: 8px;\n          height: 8px;\n          border-radius: 50%;\n        }\n\n        .status-dot.running {\n          background: var(--accent);\n          animation: pulse 2s infinite;\n        }\n\n        .status-dot.completed {\n          background: var(--success);\n        }\n\n        .status-dot.error {\n          background: var(--error);\n        }\n\n        @keyframes pulse {\n          0% { opacity: 1; }\n          50% { opacity: 0.5; }\n          100% { opacity: 1; }\n        }\n\n        .progress-bar-container {\n          display: flex;\n          align-items: center;\n          gap: 10px;\n          margin-bottom: 20px;\n        }\n\n        .progress-bar {\n          flex: 1;\n          height: 20px;\n          background: var(--bg-tertiary);\n          border-radius: 10px;\n          overflow: hidden;\n        }\n\n        .progress-fill {\n          height: 100%;\n          background: linear-gradient(90deg, var(--accent), #0056b3);\n          transition: width 0.3s ease;\n        }\n\n        .progress-text {\n          font-weight: 600;\n          color: var(--accent);\n          min-width: 45px;\n        }\n\n        .progress-details {\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 10px 20px;\n          margin-bottom: 15px;\n        }\n\n        .detail-row {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        .label {\n          font-weight: 500;\n          color: var(--text-secondary);\n        }\n\n        .value {\n          font-weight: 600;\n          color: var(--text-primary);\n        }\n\n        .progress-error {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 10px;\n          background: rgba(220, 53, 69, 0.1);\n          border: 1px solid var(--error);\n          border-radius: 4px;\n          color: var(--error);\n        }\n\n        .loading {\n          text-align: center;\n          padding: 40px;\n        }\n\n        .progress-spinner {\n          width: 40px;\n          height: 40px;\n          border: 4px solid var(--bg-tertiary);\n          border-top: 4px solid var(--accent);\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n          margin: 0 auto 20px;\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        @media (max-width: 768px) {\n          .progress-details {\n            grid-template-columns: 1fr;\n          }\n\n          .progress-header {\n            flex-direction: column;\n            align-items: flex-start;\n            gap: 10px;\n          }\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default ResearchProgress;"],"names":["parcelRequire","$parcel$global","globalThis","parcelRegister","register","module","exports","Object","defineProperty","value","default","$407363bb42bbbc71$var$_react","$407363bb42bbbc71$var$_interopRequireWildcard","$ayMG0","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","has","get","set","hasOwnProperty","call","getOwnPropertyDescriptor","taskId","onComplete","onError","progress","setProgress","useState","isConnected","setIsConnected","error","setError","useEffect","eventSource","EventSource","onopen","onmessage","event","data","JSON","parse","type","status","close","err","console","onerror","jsxs","className","children","jsx","progressPercent","Math","round","style","width","phase","topics_completed","total_topics","findings_count","start_time","Date","toLocaleTimeString","_react","_interopRequireWildcard","require","_jsxRuntime","ResearchProgress","_default"],"version":3,"file":"ResearchProgress.bdbebb10.js.map"}